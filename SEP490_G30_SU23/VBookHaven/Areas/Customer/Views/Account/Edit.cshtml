@model CustomerProfileVM
@{
    ViewData["Title"] = "Edit";
    Layout = "~/Areas/Customer/Views/Shared/_LayoutCustomerManage.cshtml";
    var displayImage = Root.ImageRoot + Model.Customer.Image;
    if (Model.Customer.Image == null)
    {
        displayImage = "/images/default-avatar.jpg";
    }
    displayImage += "?v=" + new Random().Next();
}

<h1>Thông tin tài khoản</h1>
<div class="card info bg-light">
    <div class="card-body row">
        <div class="col-6 border-end">
            <h4 class="mb-5">Thông tin cá nhân</h4>
            <form asp-action="Edit" asp-route-returnUrl="~/Customer/Account/Edit" enctype="multipart/form-data" method="post">
                <div asp-validation-summary="ModelOnly" class="text-danger "></div>
                <input asp-for="Customer.CustomerId" hidden class="form-control mb-0">
                <input asp-for="Customer.Image" hidden class="form-control mb-0">
                <div class="row d-flex align-items-center ">
                    <div class="col-3 mb-5 ">
                        <div class="avatar-wrapper ">
                            <img class="profile-pic" src="@displayImage" />
                            <div class="upload-button ">
                                <i class="bx bx-upload" aria-hidden="true"></i>
                            </div>
                            <input class="file-upload" asp-for="Customer_ImageFile" type="file" accept="image/*" />
                        </div>
                    </div>
                    <div class="col-7 mb-5 ">
                        <div class="row d-flex align-items-center ">
                            <label asp-for="Customer.FullName" class="label-control col-3 pe-0 ">Họ và tên</label>
                            <div class="col-7 ps-0 ">
                                <input asp-for="Customer.FullName" class="form-control mb-0 " placeholder="Thêm họ và tên ">
                                <span asp-validation-for="@Model.Customer.FullName" class="text-danger "></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-10 mb-5 ">
                        <div class="row d-flex align-items-center ">
                            <label asp-for="Customer.DOB" class="label-control col-3 pe-0 "></label>
                            <div class="col-7">
                                <input asp-for="Customer.DOB" type="date" class="form-control mb-0 ">
                                <span asp-validation-for="@Model.Customer.DOB" class="text-danger "></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-10 mb-5 ">
                        <div class="row d-flex align-items-center ">
                            <label class="label-control col-3 ">Giới tính</label>
                            <div class="col-7">
                                <div class="form-check form-check-inline ms-3 ">
                                    <input asp-for="Customer.IsMale" class="form-check-input" type="radio" value="true">
                                    <label class="form-check-label " for="inlineRadio1">Nam</label>
                                </div>
                                <div class="form-check form-check-inline ms-3 ">
                                    <input asp-for="Customer.IsMale" class="form-check-input" type="radio" value="false">
                                    <label class="form-check-label" for="inlineRadio1">Nữ</label>
                                </div>
                                <span asp-validation-for="@Model.Customer.IsMale" class="text-danger "></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-10 mb-5 ">
                        <div class="row d-flex align-items-center ">
                            <label asp-for="Customer.Phone" class="label-control col-3 pe-0 ">Số điện thoại</label>
                            <div class="col-7 ">
                                <input asp-for="Customer.Phone" class="form-control mb-0" placeholder="Thêm số điện thoại ">
                                <span asp-validation-for="@Model.Customer.Phone" class="text-danger "></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-10 d-flex justify-content-center ">
                        <button type="submit" class="submit-btn-1 btn-hover-1 ">Lưu thay đổi</button>
                    </div>
                </div>
            </form>
        </div>
        <div class="col-4 row pe-0 ">
            <div class="col-10 pe-0 ">
                <h4 class="mb-3 ">Email</h4>
                <div class="row d-flex align-items-center py-4 ">
                    <div class="col-1 ">
                        <i class="zmdi zmdi-email fs-2 "></i>
                    </div>
                    <div class="col-9 ">
                        <p class="mb-0 text-dark fs-4 ">Địa chỉ email</p>
                        <p class="mb-0 text-dark fs-4 ">@Model.Email</p>
                    </div>
                </div>
                <hr>
                <h4 class="mb-3 ">Bảo mật</h4>
                <div class="row d-flex align-items-center py-4 ">
                    <div class="col-1 ">
                        <i class="zmdi zmdi-lock fs-2 "></i>
                    </div>
                    <div class="col-6 ">
                        <p class="mb-0 text-dark fs-4 ">Thiết lập mật khẩu</p>
                    </div>
                    <div class="col-3 px-0 ">
                        <button class="my-btn-1 btn-hover-1 fs-6 " onclick="redirectToPage()">Cập nhật</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    <script type="text/javascript" src="~/js/editProfile.js"></script>
}




